def f(n):
    a = '0123456789AB'
    r = ''
    while n > 0:
        r = a[n % 12] + r
        n //= 12
    return r


s = []
for n in range(144, 1000):
    r = f(n)
    if n % 12 == 0:
        r += r[-3:]
    else:
        r = f(n % 12 * 3) + r
    r = int(r, 12)
    if r < 58000:
        s.append((n, r))
print(max(s, key=lambda x: x[1]))
